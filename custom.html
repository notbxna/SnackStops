<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>SnackStop - Custom</title>
  <link rel="stylesheet" href="styles.css">
  <script src="orders.js" defer></script>
</head>
<body>
  <nav>
    <a href="index.html">Home</a>
    <a href="food.html">Food</a>
    <a href="drinks.html">Drinks</a>
    <a href="custom.html">Custom</a>
    <a href="cart.html">Cart</a>
  </nav>
  <main>
    <h1>Custom Order</h1>
    <form onsubmit="event.preventDefault(); handleCustom();">
      <label>Choose Type:
        <select id="type">
          <option>Drink ($1.99)</option>
          <option>Smoothie ($1.50)</option>
          <option disabled>Smoothie Bowl (Unavailable)</option>
        </select>
      </label>

      <fieldset>
        <legend>Select Fruits:</legend>
        <label><input type="checkbox" value="Strawberry"> Strawberry</label>
        <label><input type="checkbox" value="Blueberry"> Blueberry</label>
        <label><input type="checkbox" value="Raspberry"> Raspberry</label>
        <label><input type="checkbox" value="Dragon Fruit"> Dragon Fruit</label>
        <label><input type="checkbox" value="Lemon"> Lemon</label>
      </fieldset>

      <label><input type="checkbox" id="ice"> Add Ice (+$0.15)</label>
      <button type="submit">Add Custom to Cart</button>
    </form>
  </main>

  <script>
    function handleCustom() {
      const type = document.getElementById('type').value;
      const fruitElems = document.querySelectorAll('input[type=checkbox]:checked');
      let fruits = [];
      fruitElems.forEach(f => fruits.push(f.value));

      const ice = document.getElementById('ice').checked ? '+ Ice' : '';
      const label = `${type} - ${fruits.join(', ')} ${ice}`;
      addToCart(label.trim());
    }
  </script>
</body>
</html>
